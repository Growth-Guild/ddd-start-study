# Chapter 1. 도메인 모델 시작하기

## 1.1 도메인이란?
* 도메인은 소프트웨어로 해결하고자 하는 문제 영역이다.
* 하나의 도메인은 다시 하위 도메인으로 나눌 수 있다.
* 한 하위 도메인은 다른 하위 도메인과 연동하여 완전한 기능을 제공한다.
  * ex) 고객이 물건을 구매하면 주문, 결제, 배송, 혜택 하위 도메인의 기능이 엮이게 된다.
* 특정 도메인을 위한 소프트웨어라고 해서 도메인이 제공해야 할 모든 기능을 직접 구현하는 것은 아니다.
  * 배송, 결제 등은 외부 업체 시스템을 사용할 때가 많다.

## 1.2 도메인 전문가와 개발자 간 지식 공유
* 각 도메인 영역에는 전문가가 있다. 이들 전문가는 해당 도메인에 대한 지식과 경험을 바탕으로 원하는 기능 개발을 요구한다.
* 개발자는 이런 요구사항을 분석하고 설계하여 코드를 작성하며 테스트하고 배포한다.
* 요구사항을 올바르게 이해하지 못하면 요구하지 않은 엉뚱한 기능을 만들게 된다. 따라서 코딩에 앞서 요구사항을 올바르게 이해하는 것이 중요하다.

### 요구사항을 올바르게 이해하는 방법
* 가장 간단한 방법은 개발자와 전문가가 직접 대화하는 것이다.
* 개발자와 전문가 사이에 내용을 전파하는 전달자가 많으면 많을수록 정보가 왜곡되고 손실이 발생하게 된다.
* 도메인 전문가 만큼은 아니겠지만 이해관계자와 개발자도 도메인 지식을 갖추어야 한다.
* 도메인 전문가가 소프트웨어 전문가는 아니기 때문에 기존에 만들어진 소프트웨어를 기준으로 요구사항을 맞출 때가 있다.
  * 전문가나 관련자가 요구한 내용이 항상 올바른 것은 아니며 때론 본인들이 실제로 원하는 것을 정확하게 표현하지 못할 때도 있다.
  * 개발자는 요구사항을 이해할 때 왜 이런 기능을 요구하는지 또는 실제로 원하는 게 무엇인지 생각하고 전문가와 대화를 통해 진짜로 원하는 것을 찾아야 한다.

## 1.3 도메인 모델
* 도메인 모델에는 다양한 정의가 존재하는데, 기본적으로 도메인 모델은 특정 도메인을 개념적으로 표현한 것이다.
* 도메인 모델을 사용하면 여러 관계자들이 동일한 모습으로 도메인을 이해하고 도메인 지식을 공유하는 데 도움이 된다.
* 도메인을 이해하려면 도메인이 제공하는 기능과 도메인의 주요 데이터 구성을 파악해야 하는데, 이런 면에서 기능과 데이터를 함께 보여주는 객체 모델은 도메인을 모델링하기에 적합하다.
* 도메인 모델을 표현할 때 클래스 다이어그램이나 상태 다이어그램과 같은 UML 표기법만 사용해야 하는 것은 아니다.
* 도메인을 이해하는 데 도움이 된다면 표현 방식이 무엇인지는 중요하지 않다.

### 하위 도메인과 모델
* 각 하위 도메인이 다루는 영역은 서로 다르기 때문에 같은 용어라도 도메인마다 의미가 달라질 수 있다.
* 도메인에 따라 용어 의미가 결정되므로 여러 하위 도메인을 하나의 다이어그램에 모델링하면 안된다.
* 모델의 각 구성요소는 특정 도메인으로 한정할 때 비로소 의미가 완전해지기 때문에 각 하위 도메인마다 별도로 모델을 만들어야 한다.

## 1.4 도메인 모델 패턴
### 아키텍쳐 구성
* 일반적으로 애플리케이션의 아키텍처는 네 개의 영역으로 구성된다.
1. 표현 계층
   * 사용자의 요청을 처리하고 사용자에게 정보를 보여준다.
2. 응용 계층
   * 사용자가 요청한 기능을 실행한다. 업무 로직을 직접 구현하지 않으며 도메인 계층을 조합해서 기능을 실행한다.
3. 도메인
   * 시스템이 제공할 도메인 규칙을 구현한다.
4. 인프라스트럭처
   * 데이터베이스나 메시징 시스템과 같은 외부 시스템과의 연동을 처리한다.

* 처음에 언급되었던 도메인 모델은 도메인 자체를 이해하는 데 필요한 개념 모델을 의미했다.
* 지금 살펴볼 도메인 모델은 아키텍처 상의 도메인 계층을 객체 지향 기법으로 현하는 패턴을 말한다.
* 도메인 계층은 도메인의 핵심 규칙을 구현한다.